quarkus.http.test-port=0
# ====================
# Core: use Dev Services MSSQL
# ====================
quarkus.datasource.db-kind=mssql
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=mcr.microsoft.com/mssql/server:2022-latest
quarkus.datasource.devservices.properties.ACCEPT_EULA=Y
quarkus.datasource.devservices.properties.MSSQL_PID=Developer

# Hibernate/Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.schemas=dbo
quarkus.flyway.table=schema_version
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.mapping.timezone.default-storage=normalize
quarkus.hibernate-orm.log.sql=false

# OIDC off for tests; we provide identities with @TestSecurity
quarkus.oidc.auth-server-url=http://localhost:8081/realms/brokee
quarkus.oidc.client-id=brokee-frontend


# CORS irrelevant in tests but keep quiet
quarkus.http.cors.enabled=false

# Caffeine caches keep defaults; smaller TTL to avoid test flakiness
quarkus.cache.caffeine.location-service.expire-after-write=5S
quarkus.cache.caffeine.portfolio-cache.expire-after-write=5S

# External MP Rest Clients: point to dummy base (we'll mock clients at bean level)
geocode-api/mp-rest/url=http://localhost/dummy
binance-api/mp-rest/url=http://localhost/dummy
