# Random HTTP port for tests
quarkus.http.test-port=0

# ====================
# Database (Dev Services MSSQL)
# ====================
%test.quarkus.datasource.jdbc.url=jdbc:sqlserver://localhost:11433;databaseName=brokee_test;encrypt=true;trustServerCertificate=true
%test.quarkus.datasource.username=sa
%test.quarkus.datasource.password=Str0ng!P@ssw0rd!
%test.quarkus.datasource.devservices.enabled=false

# ====================
# Flyway / Hibernate
# ====================
%test.quarkus.flyway.migrate-at-start=true
%test.quarkus.flyway.schemas=dbo
%test.quarkus.flyway.table=schema_version
%test.quarkus.hibernate-orm.jdbc.timezone=UTC
%test.quarkus.hibernate-orm.mapping.timezone.default-storage=normalize
%test.quarkus.hibernate-orm.log.sql=false

# ====================
# Security / OIDC (disabled in tests)
# ====================
%test.quarkus.oidc.enabled=false

# ====================
# CORS
# ====================
%test.quarkus.http.cors.enabled=false

# ====================
# Caching
# ====================
%test.quarkus.cache.caffeine.location-service.expire-after-write=5S
%test.quarkus.cache.caffeine.portfolio-cache.expire-after-write=5S

# ====================
# External MP Rest Clients (WireMock IT overrides at runtime)
# ====================
%test.geocode-api/mp-rest/url=http://localhost/dummy
%test.binance-api/mp-rest/url=http://localhost/dummy
